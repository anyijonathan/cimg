"use strict";(self.webpackChunkcimg_portal=self.webpackChunkcimg_portal||[]).push([[227],{700:function(e,t,a){a(2791);var n=a(184);t.Z=function(e){var t=e.onChange,a=e.id,r=e.label,l=e.type,c=e.options,s=e.value,o=e.defaultValue,i=e.className;return(0,n.jsxs)("div",{className:"font-circular-std",children:[r&&(0,n.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:r}),(0,n.jsx)("select",{id:a,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+i,type:l,onChange:t,value:s,defaultValue:o,children:c&&c.map((function(e){return(0,n.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})}},309:function(e,t,a){a(2791),a(700);var n=a(5479),r=a(184);t.Z=function(e){var t=e.title,a=e.cardValue,l=e.id,c=e.type,s=e.onChange,o=e.value,i=e.options,d=e.additionalStyle,u=e.spanText,x=e.cardLink,p=e.linkText,m=e.additionalSelectStyle,h=e.additionalCardStyle,y=e.additionalLinkStyle,b=e.symbol;return(0,r.jsx)(n.Card,{className:"md:w-96 ".concat(h," md:h-44 mb-6 pb-4 pl-4 ring-white bg-other-background  border border-black-secondary border-opacity-5"),children:(0,r.jsxs)(n.CardBody,{className:"flex",children:[(0,r.jsxs)("div",{className:"w-96 pt-[0.2rem]",children:[(0,r.jsx)("p",{className:"text-base font-bold text-black-secondary pb-6",children:t}),(0,r.jsxs)("p",{className:"text-3xl font-bold + ".concat(d),children:[b," ",a,(0,r.jsx)("span",{className:"text-sm font-bold pl-3 text-black-70 opacity-70",children:u})]}),(0,r.jsx)("a",{href:"".concat(x||""," "),className:"font-bold ".concat(y," text-sm text-purple-primary opacity-70"),children:p})]}),(0,r.jsx)("select",{id:l,className:"bg-gray-50 border border-none text-black-70 text-xs text-sm rounded-lg outline-none focus:border-white cursor-pointer focus:ring-white block w-2/6 h-1/5 ".concat(m),type:c,onChange:s,value:o,children:i&&i.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})})}},1227:function(e,t,a){a.r(t);var n=a(4165),r=a(5861),l=a(1413),c=a(885),s=a(2791),o=a(309),i=a(6675),d=a(700),u=a(9434),x=a(2885),p=a(8763),m=a(4848),h=a(3585),y=a(5987),b=a(5479),g=a(9271),T=a(184);t.default=function(){(0,u.I0)();var e=(0,g.k6)(),t=(0,s.useState)(1),a=(0,c.Z)(t,2),f=a[0],v=a[1],j=(0,s.useState)([]),k=(0,c.Z)(j,2),N=k[0],w=k[1],C=(0,s.useState)(!1),P=(0,c.Z)(C,2),S=P[0],F=P[1],Z=(0,s.useState)(!1),A=(0,c.Z)(Z,2),L=A[0],V=A[1],M=(0,s.useState)(""),W=(0,c.Z)(M,2),D=W[0],I=W[1],R=(0,s.useState)({totalCompletedTransaction:0,dailyCompletedTransaction:0,weeklyCompletedTransaction:0,monthlyCompletedTransaction:0,totalSuccessPercentage:0,totalDailySuccessPercentage:0,totalWeeklySuccessPercentage:0,totalMonthlySuccessPercentage:0,totalFailurePercentage:0,totalDailyFailurePercentage:0,totalWeeklyFailurePercentage:0,totalMonthlyFailurePercentage:0,monthlyTransactions:[],weeklyTransactions:[],dailyTransactions:[],vendorTelcoMap:[],vendorList:[],telcoList:[],totalTransactionValue:0,percentageSuccess:0,percentageFailure:0,transactionsList:[]}),B=(0,c.Z)(R,2),E=B[0],G=B[1],_=5,z=E.transactionsList.length;(0,s.useEffect)((function(){w(E.transactionsList.slice((f-1)*_,f*_))}),[f]);var U=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),I("Loading dashboard data..."),e.next=5,(0,x.a7)();case 5:return t=e.sent,e.next=8,(0,p.G)();case 8:return a=e.sent,e.next=11,(0,m.Bu)();case 11:r=e.sent,G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{totalCompletedTransaction:t.data.cardTrxnCompleted.totalTrxnCompletedAll,dailyCompletedTransaction:t.data.cardTrxnCompleted.totalTrxnCompletedDaily,weeklyCompletedTransaction:t.data.cardTrxnCompleted.totalTrxnCompletedWeekly,monthlyCompletedTransaction:t.data.cardTrxnCompleted.totalTrxnCompletedmonthly,totalSuccessPercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageAllSuccessful.toFixed(1),totalDailySuccessPercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageDailySuccess.toFixed(1),totalWeeklySuccessPercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageWeeklySuccess.toFixed(1),totalMonthlySuccessPercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentagemonthlySuccess.toFixed(1),totalFailurePercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageAllFailed.toFixed(1),totalDailyFailurePercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageDailyFailed.toFixed(1),totalWeeklyFailurePercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageWeeklyFailed.toFixed(1),totalMonthlyFailurePercentage:t.data.cardTrxnPercentageCompleted.totalTrxnPercentagemonthlyFailed.toFixed(1),monthlyTransactions:t.data.telcosAndTransactions.telcoAndTrxThisMonth,weeklyTransactions:t.data.telcosAndTransactions.telcoAndTrxThisWeek,dailyTransactions:t.data.telcosAndTransactions.telcoAndTrxToday,vendorTelcoMap:t.data.telcosAndVendorMapping,vendorList:a.dataList,telcoList:r.dataList,totalTransactionValue:t.data.cardTrxnCompleted.totalTrxnCompletedAll,percentageSuccess:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageAllSuccessful.toFixed(1),percentageFailure:t.data.cardTrxnPercentageCompleted.totalTrxnPercentageAllFailed.toFixed(1),transactionsList:t.data.telcosAndTransactions.telcoAndTrxToday})})),w(t.data.telcosAndTransactions.telcoAndTrxToday.slice((f-1)*_,f*_)),F(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),F(!1),V(!0),I("Unable to retrieve dashboard data");case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){U()}),[]),(0,T.jsxs)("div",{children:[!0===S&&(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)(y.$j,{"aria-label":"Center-aligned spinner example",size:"xl",color:"purple"}),(0,T.jsx)("p",{className:"text-lg text-purple-primary",children:D})]})}),!0===L&&(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("p",{className:"text-lg text-red-primary",children:D}),(0,T.jsx)("p",{onClick:function(){return e.push("/login")},className:"text-base cursor-pointer text-purple-primary",children:" Go back to Login"})]})}),!1===S&&!1===L&&(0,T.jsxs)("div",{className:"md:grid gap-8 font-circular-std",children:[(0,T.jsxs)("div",{className:"col-span-2 mt-8 h-[22.9375rem]",children:[(0,T.jsx)(o.Z,{title:"Total transactions completed",cardValue:"".concat(E.totalTransactionValue),symbol:"\u20a6",options:h.f1,onChange:function(e){var t=e.target.value;"Total"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{totalTransactionValue:E.totalCompletedTransaction})})),"Today"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{totalTransactionValue:E.dailyCompletedTransaction})})),"Weekly"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{totalTransactionValue:E.weeklyCompletedTransaction})})),"Monthly"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{totalTransactionValue:E.monthlyCompletedTransaction})}))},cardLink:"/app/reports",additionalStyle:"text-purple-primary pb-4",linkText:"View more details"}),(0,T.jsx)(o.Z,{title:"Total transactions completed",cardValue:"".concat(E.percentageSuccess,"%"),spanText:"".concat(E.percentageFailure,"% failure"),options:h.f1,onChange:function(e){var t=e.target.value;"Total"!==t&&""!==t||G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{percentageSuccess:E.totalFailurePercentage,percentageFailure:E.totalSuccessPercentage})})),"Today"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{percentageSuccess:E.totalDailySuccessPercentage,percentageFailure:E.totalDailyFailurePercentage})})),"Weekly"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{percentageSuccess:E.totalWeeklySuccessPercentage,percentageFailure:E.totalWeeklyFailurePercentage})})),"Monthly"===t&&G((function(e){return(0,l.Z)((0,l.Z)({},e),{},{percentageSuccess:E.totalMonthlySuccessPercentage,percentageFailure:E.totalMonthlyFailurePercentage})}))},cardLink:"/app/reports",additionalStyle:"text-green-primary pb-4",linkText:"View more details"})]}),(0,T.jsx)("div",{className:"col-span-4 my-8 pb-8 border border-black-secondary border-opacity-5 rounded-lg",children:(0,T.jsx)("div",{className:"overflow-x-auto relative bg-white pl-6 pt-6 pr-14 pb-2 rounded-lg",children:(0,T.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,T.jsx)("thead",{className:"text-base font-bold text-black-secondary",children:(0,T.jsx)("tr",{children:(0,T.jsx)("td",{children:" Telco/Vendor Switch"})})}),(0,T.jsx)("tbody",{children:E.vendorTelcoMap.map((function(e,t){return(0,T.jsxs)("tr",{className:"bg-white border-b",children:[(0,T.jsx)("td",{className:"py-6 px-6 font-sm text-black-secondary whitespace-nowrap",children:(0,T.jsx)("div",{className:"flex items-center",children:(0,T.jsx)("p",{className:"font-sm text-black-secondary pl-2",children:e.telcoName})})}),(0,T.jsx)("td",{className:"py-6 px-6",children:(0,T.jsx)(i.LinkIcon,{})}),(0,T.jsx)("td",{className:"py-6 px-6",children:e.vendorName}),(0,T.jsx)("td",{className:"py-6 px-6",children:(0,T.jsxs)("a",{href:"/app/admin/vendor-telco",className:"text-purple-primary",children:["Switch"," "]})})]},t)}))})]})})}),(0,T.jsxs)("div",{className:"col-span-6 border border-black-secondary border-opacity-5 rounded-lg",children:[(0,T.jsxs)("div",{className:"flex justify-between w-full bg-white h-[4.8125rem] items-center px-6",children:[(0,T.jsxs)("div",{className:"flex",children:[(0,T.jsx)("h2",{className:"text-base font-bold text-black-secondary pr-7 pt-[0.2rem]",children:"Transaction Volume"}),(0,T.jsx)(d.Z,{className:"border border-none text-black-70 text-xs rounded-lg outline-none focus:border-white focus:ring-white block w-4/5 h-11/12",options:h.rR,onChange:function(e){var t=e.target.value;"today"===t&&w(E.dailyTransactions.slice((f-1)*_,f*_)),"weekly"===t&&w(E.weeklyTransactions.slice((f-1)*_,f*_)),"monthly"===t&&w(E.monthlyTransactions.slice((f-1)*_,f*_))}})]}),(0,T.jsx)("div",{className:"items-end",children:(0,T.jsx)("a",{href:"/app/reports",className:"text-sm text-purple-primary",children:"View All Transactions"})})]}),(0,T.jsxs)("div",{className:"overflow-x-auto relative bg-white pl-6 pr-14 pb-2 rounded-lg",children:[(0,T.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,T.jsx)("thead",{className:"text-sm text-black-primary opacity-70 bg-dashboard-background",children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{scope:"col",className:"py-3 px-6 text-center",children:"Telco name"}),(0,T.jsx)("th",{scope:"col",className:"py-3 px-6 text-center",children:"Successful Transactions"}),(0,T.jsx)("th",{scope:"col",className:"py-3 px- text-center",children:"Failed Transactions"})]})}),(0,T.jsx)("tbody",{children:N.map((function(e,t){return(0,T.jsxs)("tr",{className:"bg-white border-b py-4 px-6 text-center",children:[(0,T.jsx)("td",{className:"font-medium text-gray-900 whitespace-nowrap",children:e.telco}),(0,T.jsxs)("td",{className:"py-6 px-6 text-green-primary text-center",children:["\u20a6",e.successTrxn]}),(0,T.jsxs)("td",{className:"py-6 px-6 text-red-primary text-center",children:["\u20a6 ",e.failedTxn]})]},t)}))})]}),(0,T.jsx)(b.Pagination,{totalResults:z,resultsPerPage:_,label:"Table navigation",onChange:function(e){v(e)}})]})]}),(0,T.jsx)("div",{className:"col-span-3 border border-black-secondary border-opacity-5 rounded-lg",children:(0,T.jsx)("div",{className:"overflow-x-auto relative bg-white pl-6 pt-6 pr-14 pb-2 rounded-lg",children:(0,T.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,T.jsx)("thead",{className:"text-base font-bold text-black-secondary pt-4 pb-6",children:(0,T.jsx)("tr",{children:(0,T.jsx)("td",{children:"Vendors Available "})})}),(0,T.jsx)("tbody",{children:E.vendorList.map((function(e,t){return(0,T.jsx)("tr",{className:"bg-white border-b py-4 px-6",children:(0,T.jsx)("td",{className:"font-sm text-black-secondary whitespace-nowrap py-4 px-6",children:e.vendorName})},t)}))})]})})}),(0,T.jsx)("div",{className:"col-span-3 border border-black-secondary border-opacity-5 rounded-lg",children:(0,T.jsx)("div",{className:"overflow-x-auto relative bg-white pl-6 pt-6 pr-14 pb-2 rounded-lg",children:(0,T.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,T.jsx)("thead",{className:"text-base font-bold text-black-secondary pb-6 pt-4",children:(0,T.jsx)("tr",{children:(0,T.jsx)("td",{children:" Telcos Available "})})}),(0,T.jsx)("tbody",{children:E.telcoList.map((function(e,t){return(0,T.jsx)("tr",{className:"bg-white border-b py-4 px-6",children:(0,T.jsx)("td",{className:"font-sm text-black-secondary whitespace-nowrap py-4 px-6",children:e.telcoName})},t)}))})]})})})]})]})}},3585:function(e,t,a){a.d(t,{CC:function(){return n},L4:function(){return c},f1:function(){return l},hm:function(){return s},rR:function(){return r}});var n=[{id:1,value:"",name:"select role"},{id:2,value:"admin",name:"admin"},{id:3,value:"superAdmin",name:"superAdmin"}],r=[{id:1,value:"today",name:"Today"},{id:2,value:"weekly",name:"This week"},{id:3,value:"monthly",name:"This month"}],l=[{id:1,value:"Total",name:"Total"},{id:2,value:"Today",name:"Today"},{id:3,value:"Weekly",name:"This week"},{id:4,value:"Monthly",name:"This month"}],c=[{id:1,value:"",name:"Filter by"},{id:2,value:"active",name:"Active"},{id:3,value:"inactive",name:"Inactive"},{id:4,value:"pending",name:"Pending"},{id:5,value:"archived",name:"Archived"}],s=[{id:1,value:"",name:"Select Status"},{id:2,value:"Y",name:"Successful"},{id:3,value:"F",name:"Failed"}]}}]);
//# sourceMappingURL=227.254ef37c.chunk.js.map