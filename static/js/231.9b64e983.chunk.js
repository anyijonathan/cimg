"use strict";(self.webpackChunkcimg_portal=self.webpackChunkcimg_portal||[]).push([[231],{4453:function(e,t,r){r(5987),r(2791);var n=r(184);t.Z=function(e){var t=e.type,r=void 0===t?"submit":t,a=e.className,s=e.disabled,c=e.onClick,l=e.icon,i=e.isLoading,o=e.children;e.loaderText;return(0,n.jsxs)("button",{className:"bg-[linear-gradient(89.92deg,_#60088C_0.07%,_#A11E90_92.22%)] w-full h-12 border border-purple-secondary text-white text-sm rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200  block pt-4 pb-6 px-16 ease-in-out duration-150 \n          ".concat(s&&"opacity-60"," ")+a,type:r,onClick:c,disabled:s||!1,children:[l&&(0,n.jsx)("div",{children:l}),o,i]})}},3131:function(e,t,r){r(2791);var n=r(184);t.Z=function(e){var t=e.label,r=e.endingLabel,a=e.endingLabelLink,s=e.placeholder,c=e.className,l=void 0===c?"":c,i=e.value,o=e.id,d=e.onChange,u=e.onBlur,p=e.type,m=e.name,x=e.autoComplete,f=e.inputMode,h=e.maxLength,b=e.required,v=e.readOnly;e.children;return(0,n.jsxs)("div",{className:l,children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[t&&(0,n.jsxs)("label",{htmlFor:o,className:"mb-3 text-sm font-medium font-circular-std text-black-secondary",children:[" ",t]}),r&&(0,n.jsxs)("a",{href:a,className:"mb-3 text-sm text-right font-medium font-circular-std text-purple-secondary opacity-70",children:[" ",r]})]}),(0,n.jsx)("input",{id:o,className:"w-full md:w-[27.25rem] h-12 border border-purple-secondary text-black-40 text-sm rounded outline-none focus:border-purple-secondary focus:ring-purple-200  block py-4 pl-4 pr-[0.625rem]"+l,placeholder:s||"",value:i,onChange:d,onBlur:u,name:m,type:p,autoComplete:x||"",inputMode:f,maxLength:h,required:b,readOnly:v})]})}},700:function(e,t,r){r(2791);var n=r(184);t.Z=function(e){var t=e.onChange,r=e.id,a=e.label,s=e.type,c=e.options,l=e.value,i=e.defaultValue,o=e.className;return(0,n.jsxs)("div",{className:"font-circular-std",children:[a&&(0,n.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:a}),(0,n.jsx)("select",{id:r,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+o,type:s,onChange:t,value:l,defaultValue:i,children:c&&c.map((function(e){return(0,n.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})}},9364:function(e,t,r){r(2791);var n=r(6675),a=r(184);t.Z=function(e){e.statusColor;var t=e.status,r=e.notificationText,s=e.className;return(0,a.jsxs)("div",{className:"mb-4 md:mb-0 md:absolute md:left-[77%] md:top-[10%] "+s,children:["success"===t&&(0,a.jsxs)("div",{className:"w-[60%] h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-green-primary items-center",children:[(0,a.jsx)(n.NotificationIcon,{}),(0,a.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:r})]}),"failure"===t&&(0,a.jsxs)("div",{className:"w-full px-4 py-2 h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-red-primary items-center",children:[(0,a.jsx)(n.NotificationIcon,{}),(0,a.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:r})]})]})}},7824:function(e,t,r){r(2791);var n=r(6675),a=r(184);t.Z=function(e){var t=e.placeholder,r=e.id,s=e.onChange,c=e.value;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center pl-3",children:[(0,a.jsx)(n.SearchIcon,{className:"relative left-6"}),(0,a.jsx)("input",{value:c,type:"text",id:r,onChange:s,className:"w-80 h-11 rounded opacity-60 border border-gray-300 text-black-40 text-sm focus:ring-gray-50 focus:border-gray-300 outline-none block w-full p-4 pl-8",placeholder:t})]})})}},5231:function(e,t,r){r.r(t);var n=r(4165),a=r(5861),s=r(885),c=r(2791),l=r(3825),i=r(2549),o=r(9434),d=r(9364),u=(r(7824),r(700)),p=r(3131),m=r(5987),x=r(8763),f=r(4848),h=r(4453),b=r(184);t.default=function(){var e=[{id:0,value:"",name:"Select Telco"}],t=[{id:0,value:"",name:"Select Vendor"}],r=(0,o.I0)(),v=(0,o.v9)(i.np),j=v.emailAddress,y=v.userRole,N=(0,o.v9)((function(e){return e.mapping})),g=(0,c.useState)(!1),w=(0,s.Z)(g,2),k=w[0],Z=w[1],C=(0,c.useState)(!1),S=(0,s.Z)(C,2),_=S[0],L=S[1],T=(0,c.useState)(""),I=(0,s.Z)(T,2),V=I[0],M=I[1],B=(0,c.useState)(""),A=(0,s.Z)(B,2),F=A[0],O=A[1],U=(0,c.useState)([]),q=(0,s.Z)(U,2),z=(q[0],q[1]),E=(0,c.useState)(!1),H=(0,s.Z)(E,2),R=H[0],G=H[1],X=(0,c.useState)(!1),D=(0,s.Z)(X,2),J=D[0],K=D[1],P=(0,c.useState)(t),Q=(0,s.Z)(P,2),W=Q[0],Y=Q[1],$=(0,c.useState)(e),ee=(0,s.Z)($,2),te=ee[0],re=ee[1],ne=(0,c.useState)(),ae=(0,s.Z)(ne,2),se=ae[0],ce=ae[1],le=(0,c.useState)(),ie=(0,s.Z)(le,2),oe=ie[0],de=ie[1],ue=(0,c.useState)(""),pe=(0,s.Z)(ue,2),me=pe[0],xe=pe[1];var fe=function(e){var t=e.target.value;ce(t)},he=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={telcoId:oe,vendorId:se},e.prev=1,K(!0),G(!0),e.next=6,(0,l.XR)(t,j,y);case 6:"00"===(r=e.sent).code?(O("success"),M("Telco/vendor map created successfully and sent to admin for approval"),K(!1),G(!1),Z(!1),setTimeout((function(){O(""),M(""),ce(""),de("")}),3e3)):(O("failure"),M(r.description),K(!1),G(!1)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),K(!1),G(!1),O("failure"),M("an error occured, please try again");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={telcoId:oe,vendorId:se},e.prev=1,K(!0),G(!0),e.next=6,(0,l.Sx)(t,j,y);case 6:e.sent,O("success"),M("vendor switch successful and sent to admin for approval"),K(!1),G(!1),L(!1),setTimeout((function(){O(""),M(""),ce(""),de("")}),4e3),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(1),K(!1),G(!1),O("failure"),M("an error occured, please try again");case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a=[].concat(t),e.prev=2,e.next=5,(0,x.G)(j,y);case 5:e.sent.dataList.filter((function(e){return r.id=e.id,r.name=e.vendorName,r.value=e.id,a.push(r),r={},a})),Y(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),O("failure"),M("error fetching vendor list");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},a=[].concat(e),t.prev=2,t.next=5,(0,f.Bu)();case 5:t.sent.dataList.filter((function(e){return r.id=e.id,r.name=e.telcoName,r.value=e.id,a.push(r),r={},a})),re(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),O("failure"),M("error fetching telco list");case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),ye=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.a6)(j,y);case 3:"00"===(t=e.sent).code?(z(t.dataList),r((0,l.kI)(t.dataList))):(O("failure"),M("error fetching current mappings")),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){ye(),ve(),je()}),[]),(0,b.jsxs)("div",{className:"font-circular-std",children:[(0,b.jsx)(d.Z,{notificationText:V,status:F}),(0,b.jsxs)(m.u_,{show:k,onClose:function(){Z(!1)},popup:"true",size:"lg",position:"center",children:[(0,b.jsxs)(m.u_.Header,{children:[(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("h3",{className:"w-[90%] text-lg font-bold text-black-secondary",children:"Create a new mapping"})}),(0,b.jsx)("div",{className:"md:w-[27.75rem] pb-10",children:(0,b.jsx)("hr",{})})]}),(0,b.jsx)(m.u_.Body,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(u.Z,{className:"w-full md:w-[27.25rem] h-12",label:"Select a Telco",onChange:function(e){var t=e.target.value;de(t)},options:te,value:oe}),(0,b.jsx)(u.Z,{className:"w-full md:w-[27.25rem] h-12",label:"Select a Vendor",onChange:fe,options:W,value:se})]})}),(0,b.jsx)(m.u_.Footer,{children:(0,b.jsx)("div",{className:"flex justify-between w-full",children:(0,b.jsx)(h.Z,{isLoading:R,disabled:J,onClick:he,children:"Create Mapping"})})})]}),(0,b.jsxs)(m.u_,{show:_,onClose:function(){L(!1)},popup:!0,size:"lg",position:"center",children:[(0,b.jsxs)(m.u_.Header,{children:[(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("h3",{className:"w-[90%] text-lg font-bold text-black-secondary",children:"Update Mapping"})}),(0,b.jsx)("div",{className:"md:w-[27.75rem] pb-10",children:(0,b.jsx)("hr",{})})]}),(0,b.jsx)(m.u_.Body,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(p.Z,{className:"w-full md:w-[27.25rem] h-12 mb-12 text-black-40",label:"Telco Name",value:me||"",readOnly:!0}),(0,b.jsx)(u.Z,{className:"w-full md:w-[27.25rem] h-12 mt-4",label:"Select a Vendor",value:se,onChange:fe,options:W})]})}),(0,b.jsx)(m.u_.Footer,{children:(0,b.jsx)("div",{className:"flex justify-between w-full",children:(0,b.jsx)(h.Z,{isLoading:R,disabled:J,onClick:be,children:"Update Mapping"})})})]}),(0,b.jsx)("h2",{className:"text-xl font-bold text-black-secondary pb-9",children:"Telco/Vendor Mapping"}),(0,b.jsxs)("div",{className:"col-span-6 h-[27.1875rem]",children:[(0,b.jsx)("div",{className:"flex justify-between w-full bg-white h-[4.8125rem] items-center px-6",children:(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("div",{className:"flex justify-end pr-4",children:(0,b.jsx)("button",{onClick:function(){ce(""),de(""),Z(!0)},className:"p-3 border border-purple-secondary rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200 ease-in-out duration-150",children:(0,b.jsx)("p",{className:"linear-gradient-text text-sm font-normal",children:"Create a new mapping"})})})})}),(0,b.jsx)("div",{className:"overflow-x-auto relative bg-white pl-6 pr-14 pb-2 rounded-lg",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"text-sm text-black-primary bg-dashboard-background",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Telco name"}),(0,b.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Vendor"}),(0,b.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:N.approvedList.map((function(e,t){return(0,b.jsxs)("tr",{className:"bg-white border-b py-4 px-6",children:[(0,b.jsx)("td",{className:"py-6 px-6 font-sm text-black-secondary whitespace-nowrap",children:e.telcoName}),(0,b.jsx)("td",{className:"py-6 px-6 text-black-secondary",children:e.vendorName}),(0,b.jsx)("td",{className:"py-6 px-6 text-red-primary",children:(0,b.jsx)("button",{className:"w-32 h-11 p-3 border border-purple-secondary rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200 ease-in-out duration-150",onClick:function(){!function(e,t){L(!0),de(e),xe(t)}(e.telcoId,e.telcoName)},children:(0,b.jsx)("p",{className:"linear-gradient-text text-sm font-normal",children:"Update"})})})]},t)}))})]})})]})]})}}}]);
//# sourceMappingURL=231.9b64e983.chunk.js.map