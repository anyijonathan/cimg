(self.webpackChunkcimg_portal=self.webpackChunkcimg_portal||[]).push([[307],{7798:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.firstLayer,n=e.firstLayerLink,r=e.secondLayer,s=e.secondLayerLink;return(0,a.jsx)("div",{children:(0,a.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsx)("a",{href:n,className:"inline-flex items-center text-[#74677B] text-sm font-medium hover:text-gray-900",children:t})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})}),(0,a.jsx)("a",{href:s,className:"ml-1 text-sm font-medium text-purple-primary",children:r})]})})]})})})}},4453:function(e,t,n){"use strict";n(5987),n(2791);var a=n(184);t.Z=function(e){var t=e.type,n=void 0===t?"submit":t,r=e.className,s=e.disabled,c=e.onClick,o=e.icon,l=e.isLoading,i=e.children;e.loaderText;return(0,a.jsxs)("button",{className:"bg-[linear-gradient(89.92deg,_#60088C_0.07%,_#A11E90_92.22%)] w-full h-12 border border-purple-secondary text-white text-sm rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200  block pt-4 pb-6 px-16 ease-in-out duration-150 \n          ".concat(s&&"opacity-60"," ")+r,type:n,onClick:c,disabled:s||!1,children:[o&&(0,a.jsx)("div",{children:o}),i,l]})}},3131:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.label,n=e.endingLabel,r=e.endingLabelLink,s=e.placeholder,c=e.className,o=void 0===c?"":c,l=e.value,i=e.id,u=e.onChange,d=e.onBlur,m=e.type,f=e.name,p=e.autoComplete,h=e.inputMode,x=e.maxLength,v=e.required,b=e.readOnly;e.children;return(0,a.jsxs)("div",{className:o,children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[t&&(0,a.jsxs)("label",{htmlFor:i,className:"mb-3 text-sm font-medium font-circular-std text-black-secondary",children:[" ",t]}),n&&(0,a.jsxs)("a",{href:r,className:"mb-3 text-sm text-right font-medium font-circular-std text-purple-secondary opacity-70",children:[" ",n]})]}),(0,a.jsx)("input",{id:i,className:"w-full md:w-[27.25rem] h-12 border border-purple-secondary text-black-40 text-sm rounded outline-none focus:border-purple-secondary focus:ring-purple-200  block py-4 pl-4 pr-[0.625rem]"+o,placeholder:s||"",value:l,onChange:u,onBlur:d,name:f,type:m,autoComplete:p||"",inputMode:h,maxLength:x,required:v,readOnly:b})]})}},700:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.onChange,n=e.id,r=e.label,s=e.type,c=e.options,o=e.value,l=e.defaultValue,i=e.className;return(0,a.jsxs)("div",{className:"font-circular-std",children:[r&&(0,a.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:r}),(0,a.jsx)("select",{id:n,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+i,type:s,onChange:t,value:o,defaultValue:l,children:c&&c.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})}},8930:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.onChange,n=e.id,r=e.label,s=e.type,c=e.options,o=e.value,l=e.defaultValue,i=e.className;return(0,a.jsxs)("div",{className:"font-circular-std",children:[r&&(0,a.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:r}),(0,a.jsx)("select",{id:n,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+i,type:s,onChange:t,value:o,defaultValue:l,children:c&&c.map((function(e){return(0,a.jsx)("option",{value:"".concat(e.value+"#"+e.id),children:e.name},e.id)}))})]})}},9364:function(e,t,n){"use strict";n(2791);var a=n(6675),r=n(184);t.Z=function(e){e.statusColor;var t=e.status,n=e.notificationText,s=e.className;return(0,r.jsxs)("div",{className:"mb-4 md:mb-0 md:absolute md:left-[77%] md:top-[10%] "+s,children:["success"===t&&(0,r.jsxs)("div",{className:"w-[60%] h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-green-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]}),"failure"===t&&(0,r.jsxs)("div",{className:"w-full px-4 py-2 h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-red-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]})]})}},5307:function(e,t,n){"use strict";n.r(t);var a=n(4165),r=n(5861),s=n(4942),c=n(1413),o=n(885),l=n(2791),i=n(9434),u=n(7798),d=n(4453),m=n(3131),f=n(700),p=n(8930),h=n(9364),x=n(2549),v=n(7423),b=n(4848),g=n(8763),y=n(7777),N=n(184);t.default=function(){var e=(0,i.v9)(x.np),t=e.emailAddress,n=e.userRole,j=[{id:0,value:"",name:"Select Telco"}],Z=[{id:0,value:"",name:"Select Vendor"}],w=[{id:0,value:"",name:"Select Charge Type"},{id:1,value:"PERCENTAGE",name:"PERCENTAGE"}],k=(0,l.useState)({chargeType:"",value:"",vendorShare:"",bankShare:"",telcoShare:"",dataSuspenseAccount:"",airtimeSuspenseAccount:"",bankAccount:"",vendorAccount:"",vendorOptions:Z,telcoOptions:j,chargeOptions:w,vendorName:"",vendorId:"",telcoName:"",telcoId:""}),S=(0,o.Z)(k,2),A=S[0],C=S[1],L=(0,l.useState)({notificationText:"",status:"",isLoading:!1,disabled:!1}),T=(0,o.Z)(L,2),I=T[0],O=T[1],E=function(e){var t=e.target.value;C((0,c.Z)((0,c.Z)({},A),{},(0,s.Z)({},e.target.name,t)))},B=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},s=[].concat(Z),e.prev=2,e.next=5,(0,g.G)(t,n);case 5:e.sent.dataList.filter((function(e){return r.id=e.id,r.name=e.vendorName,r.value=e.vendorName,s.push(r),r={},s})),C((function(e){return(0,c.Z)((0,c.Z)({},e),{},{vendorOptions:s})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),O((function(t){return(0,c.Z)((0,c.Z)({},t),{},{status:"failure",notificationText:e.t0.description})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n=[].concat(j),e.prev=2,e.next=5,(0,b.Bu)();case 5:e.sent.dataList.filter((function(e){return t.id=e.id,t.name=e.telcoName,t.value=e.telcoName,n.push(t),t={},n})),C((function(e){return(0,c.Z)((0,c.Z)({},e),{},{telcoOptions:n})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),O((function(t){return(0,c.Z)((0,c.Z)({},t),{},{status:"failure",notificationText:e.t0.description})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){R(),B()}),[]);var V=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,s,o,l,i,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(typeof A.value),r=(0,y.pJ)(A.airtimeSuspenseAccount,"c1mgu22d12345tst"),s=(0,y.pJ)(A.dataSuspenseAccount,"c1mgu22d12345tst"),o=(0,y.pJ)(A.bankAccount,"c1mgu22d12345tst"),l=(0,y.pJ)(A.vendorAccount,"c1mgu22d12345tst"),i={telcoId:A.telcoId,vendorId:A.vendorId,telcoName:A.telcoName,vendorName:A.vendorName,value:A.value,fcmbRate:A.bankShare,telcoRate:A.telcoShare,vendorRate:A.vendorShare,telcoSuspenseAirtimeAccount:r,telcoSuspenseDataAccount:s,fcmbIncomeAccount:o,vendorIncomeAccount:l,chargeType:A.chargeType},console.log(i),""!==i.telcoName&&""!==i.vendorName&&""!==i.value&&""!==i.fcmbRate&&""!==i.telcoRate&&""!==i.vendorRate&&""!==i.telcoSuspenseAirtimeAccount&&""!==i.telcoSuspenseDataAccount&&""!==i.vendorIncomeAccount&&""!==i.fcmbIncomeAccount){e.next=11;break}O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{status:"failure",notificationText:"all fields are required"})})),e.next=22;break;case 11:return e.prev=11,O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{isLoading:!0,disabled:!0})})),e.next=15,(0,v.Ge)(i,t,n);case 15:"00"===(u=e.sent).code?(O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{status:"success",notificationText:"Fee setup created successfully and sent to admin for approval"})})),C({chargeType:"",value:"",vendorShare:"",bankShare:"",telcoShare:"",dataSuspenseAccount:"",airtimeSuspenseAccount:"",bankAccount:"",vendorAccount:"",vendorOptions:Z,telcoOptions:j,chargeOptions:w,vendorName:"",vendorId:"",telcoName:"",telcoId:""}),setTimeout((function(){O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{status:"",notificationText:"",isLoading:!1,disabled:!1})}))}),2e3)):O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{status:"failure",notificationText:u.description,isLoading:!1,disabled:!1})})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),O((function(e){return(0,c.Z)((0,c.Z)({},e),{},{isLoading:!1,disabled:!1,status:"failure",notificationText:"an error occured, please try again"})}));case 22:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)("div",{className:"font-circular-std",children:[(0,N.jsx)(h.Z,{notificationText:I.notificationText,status:I.status}),(0,N.jsx)(u.Z,{firstLayer:"Fee Setup",secondLayer:"New Setup",firstLayerLink:"/app/fee-setup"}),(0,N.jsxs)("div",{className:"mt-11 rounded-lg pt-6 h-full  bg-other-background",children:[(0,N.jsx)("h3",{className:"pb-4 pl-10 text-black-secondary text-lg font-medium",children:"Complete the form below"}),(0,N.jsx)("hr",{className:"w-full"}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("div",{className:"p-10 flex justify-between",children:[(0,N.jsx)(p.Z,{label:"Vendor name",className:"w-full md:w-[27.5rem] h-12",options:A.vendorOptions,onChange:function(e){var t=e.target.value;C((0,c.Z)((0,c.Z)({},A),{},{vendorName:t.split("#")[0],vendorId:t.split("#")[1]}))}}),(0,N.jsx)(p.Z,{label:"Telco name",className:"w-full md:w-[27.5rem] h-12",options:A.telcoOptions,onChange:function(e){var t=e.target.value;C((0,c.Z)((0,c.Z)({},A),{},{telcoName:t.split("#")[0],telcoId:t.split("#")[1]}))}})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(f.Z,{label:"Charge type",className:"w-full md:w-[20rem] h-12",options:A.chargeOptions,onChange:function(e){var t=e.target.value;C((0,c.Z)((0,c.Z)({},A),{},{chargeType:t}))}}),(0,N.jsx)(m.Z,{label:"Value",className:"w-full md:w-[20rem] h-12",type:"number",name:"value",value:A.value,onChange:E}),(0,N.jsx)(m.Z,{label:"Vendor share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"vendorShare",value:A.vendorShare,onChange:E})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Bank share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"bankShare",onChange:E,maxLength:16}),(0,N.jsx)(m.Z,{label:"Telco share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"telcoShare",onChange:E,maxLength:16}),(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Data)",className:"w-full md:w-[20rem] h-12",type:"text",name:"dataSuspenseAccount",onChange:E,maxLength:16})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Airtime)",className:"w-full md:w-[20rem] h-12",type:"text",name:"airtimeSuspenseAccount",onChange:E,maxLength:16}),(0,N.jsx)(m.Z,{label:"Bank Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"bankAccount",onChange:E,maxLength:16}),(0,N.jsx)(m.Z,{label:"Vendor Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"vendorAccount",onChange:E,maxLength:16})]}),(0,N.jsx)("div",{className:"ml-10 mt-9",children:(0,N.jsx)(d.Z,{onClick:V,className:"newfee-button",isLoading:I.isLoading,disabled:I.disabled,children:"Submit"})})]})]})]})}},7777:function(e,t,n){"use strict";n.d(t,{H$:function(){return u},O_:function(){return l},Yi:function(){return s},pJ:function(){return i}});var a=n(9704),r=n.n(a),s=(n(2964),function(){return(Date.now().toString(36).substr(2,9)+Math.random().toString(36).substr(2,10)).toUpperCase()});function c(e,t){return Object.values(e).some((function(e){return Array.isArray(e)?e.some((function(e){return c(e,t)})):String(e).toLocaleLowerCase().includes(t)}))}function o(e,t){var n=t.toLocaleLowerCase();return e.filter((function(e){return c(e,n)}))}var l=function(e,t){return""!==t&&e?o(e,t):e};function i(e,t){var n=r().enc.Utf8.parse(t);return r().AES.encrypt(e,n,{mode:r().mode.ECB}).toString()}function u(e,t){var n=r().enc.Utf8.parse(t);return r().AES.decrypt(e,n,{mode:r().mode.ECB}).toString(r().enc.Utf8)}},2964:function(){}}]);
//# sourceMappingURL=307.ee4c33bf.chunk.js.map