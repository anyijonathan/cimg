{"version":3,"file":"static/js/562.21058c52.chunk.js","mappings":"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,CACE7G,GAAI,EACJG,MAAO,GACPG,KAAM,eAER,CACEN,GAAI,EACJG,MAAO,QACPG,KAAM,SAER,CACEN,GAAI,EACJG,MAAO,aACPG,KAAM,eAIGwG,EAAe,CAC1B,CACE9G,GAAI,EACJG,MAAO,QACPG,KAAM,SAER,CACEN,GAAI,EACJG,MAAO,SACPG,KAAM,aAER,CACEN,GAAI,EACJG,MAAO,UACPG,KAAM,eAIGyG,EAAqB,CAChC,CACE/G,GAAI,EACJG,MAAO,QACPG,KAAM,SAER,CACEN,GAAI,EACJG,MAAO,QACPG,KAAM,SAER,CACEN,GAAI,EACJG,MAAO,SACPG,KAAM,aAER,CACEN,GAAI,EACJG,MAAO,UACPG,KAAM,eAIG0G,EAAe,CAC1B,CACEhH,GAAI,EACJG,MAAO,GACPG,KAAM,aAER,CACEN,GAAI,EACJG,MAAO,SACPG,KAAM,UAER,CACEN,GAAI,EACJG,MAAO,WACPG,KAAM,YAER,CACEN,GAAI,EACJG,MAAO,UACPG,KAAM,WAER,CACEN,GAAI,EACJG,MAAO,WACPG,KAAM,aAIGuF,EAAgB,CAC3B,CACE7F,GAAI,EACJG,MAAO,GACPG,KAAM,iBAER,CACEN,GAAI,EACJG,MAAO,IACPG,KAAM,cAER,CACEN,GAAI,EACJG,MAAO,IACPG,KAAM,U","sources":["components/Button.js","components/FormSelect.js","components/Notification.js","components/TransactionStatus.js","pages/AdminPages/Reports.js","utils/constants.js"],"sourcesContent":["import { Spinner } from 'flowbite-react';\r\nimport React from 'react'\r\n\r\nconst Button = \r\n  ({ \r\n    type = 'submit',\r\n    className,\r\n    disabled,\r\n    onClick,\r\n    icon,\r\n    isLoading,\r\n    children,\r\n    loaderText\r\n  }) => {\r\n \r\n  return (\r\n    <button\r\n      className = {       \r\n        `bg-[linear-gradient(89.92deg,_#60088C_0.07%,_#A11E90_92.22%)] w-full h-12 border border-purple-secondary text-white text-sm rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200  block pt-4 pb-6 px-16 ease-in-out duration-150 \r\n          ${disabled && 'opacity-60'} ` + className\r\n      }\r\n      type= {type}\r\n      onClick = {onClick}\r\n      disabled = {disabled ? disabled : false}   \r\n    >\r\n      {icon && <div>{icon}</div>}\r\n            {children}\r\n            {isLoading}\r\n \r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button","import React from \"react\";\r\n\r\nconst FormSelect = ({\r\n\tonChange,\r\n\tid,\r\n\tlabel,\r\n\ttype,\r\n\toptions,\r\n\tvalue,\r\n\tdefaultValue,\r\n\tclassName,\r\n}) => {\r\n\treturn (\r\n\t\t<div className=\"font-circular-std\">\r\n\t\t\t{label && (\r\n\t\t\t\t<label className=\"block mb-4 text-sm font-medium text-black-secondary\">\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\r\n\t\t\t<select\r\n\t\t\t\tid={id}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\t`border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]` +\r\n\t\t\t\t\tclassName\r\n\t\t\t\t}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{options &&\r\n\t\t\t\t\toptions.map((options) => (\r\n\t\t\t\t\t\t<option key={options.id} value={options.value}>\r\n\t\t\t\t\t\t\t{options.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FormSelect;\r\n","import React from 'react'\r\nimport { NotificationIcon } from '../icons'\r\n\r\nconst Notification = ({statusColor, status, notificationText, className }) => {\r\n  return (\r\n    <div className={`mb-4 md:mb-0 md:absolute md:left-[77%] md:top-[10%] ` + className}>\r\n\r\n      {(status === \"success\") && (\r\n        <div className={`w-[60%] h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-green-primary items-center`}>\r\n          <NotificationIcon />\r\n          <p className='font-medium text-base md:text-xs text-white pl-6'>{notificationText}</p>\r\n        </div>\r\n      )}\r\n\r\n    {(status === \"failure\") && (\r\n      <div className={`w-full px-4 py-2 h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-red-primary items-center`}>\r\n        <NotificationIcon />\r\n        <p className='font-medium text-base md:text-xs text-white pl-6'>{notificationText}</p>\r\n      </div>\r\n    )}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from \"react\";\r\nimport { ActiveStatusIcon, FailedStatusIcon } from \"../icons\";\r\n\r\nconst TransactionStatus = ({ status }) => {\r\n  return (\r\n    <div>\r\n      {status === \"Y\" && (\r\n        <div className=\"flex items-center\">\r\n          <ActiveStatusIcon />\r\n          <p className=\"font-sm text-green-primary pl-2\">Successful</p>\r\n        </div>\r\n      )}\r\n\r\n      {status !== \"Y\" && (\r\n        <div className=\"flex items-center\">\r\n          <FailedStatusIcon />\r\n          <p className=\"font-sm text-red-primary pl-2\">Failed</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionStatus;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Notification from \"../../components/Notification\";\r\nimport Button from \"../../components/Button\";\r\nimport FormSelect from \"../../components/FormSelect\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport TransactionStatus from \"../../components/TransactionStatus\";\r\nimport { Pagination } from \"@windmill/react-ui\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n\tgetAirtimeDataTransaction,\r\n\tgetAirtimeDataTransactionInfo,\r\n\tgetTransactionInfo,\r\n\tgetAuditLogs,\r\n} from \"../../Redux/Slices/reportSlice\";\r\nimport { getAllVendors } from \"../../Redux/Slices/vendorSlice\";\r\nimport { getAllTelcos } from \"../../Redux/Slices/telcoSlice\";\r\nimport moment from \"moment/moment\";\r\nimport { statusOptions } from \"../../utils/constants\";\r\nimport { userSelector } from \"../../Redux/Slices/authSlice\";\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nconst Reports = () => {\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { emailAddress, userRole } = useSelector(userSelector);\r\n\r\n\tlet telcoType = [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tvalue: \"\",\r\n\t\t\tname: \"Telco\",\r\n\t\t},\r\n\t];\r\n\r\n\tlet vendorType = [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tvalue: \"\",\r\n\t\t\tname: \"Vendor\",\r\n\t\t},\r\n\t];\r\n\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [data, setData] = useState([]);\r\n\r\n\tconst [notificationText, setNotificationText] = useState(\"\");\r\n\tconst [status, setStatus] = useState(\"\");\r\n\r\n\tconst [startDate, setStartDate] = useState(\"\");\r\n\tconst [endDate, setEndDate] = useState(\"\");\r\n\r\n\tconst [vendorTag, setVendorTag] = useState(\"\");\r\n\tconst [telco, setTelco] = useState(\"\");\r\n\tconst [reportListLength, setReportListLength] = useState(0);\r\n\r\n\tconst [vendorOptions, setVendorOptions] = useState(vendorType);\r\n\tconst [telcoOptions, setTelcoOptions] = useState(telcoType);\r\n\tconst [statusOption, setStatusOption] = useState(\"\");\r\n\r\n\tconst [excelData, setExcelData] = useState([]);\r\n\r\n\t// EXPORT TO EXCEL\r\n\tconst fileType = \"xlsx\";\r\n\tconst fileExtension = \".xlsx\";\r\n\r\n\tconst exportToExcel = (list) => {\r\n\t\tconst ws = XLSX.utils.json_to_sheet(list);\r\n\t\tconst wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n\t\tconst excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\r\n\t\tconst data = new Blob([excelBuffer], { type: fileType });\r\n\t\tFileSaver.saveAs(data, \"Reports_Transactions\" + fileExtension);\r\n\t};\r\n\r\n\t// GET AIRTIME DATA TRANSACTION\r\n\tconst fetchDataTransactions = async () => {\r\n\t\tlet convertedStartDate = moment(startDate).format(\r\n\t\t\t\"MM/DD/YYYY HH:MM:SS A\"\r\n\t\t);\r\n\t\tlet convertedEndDate = moment(endDate).format(\"MM/DD/YYYY HH:MM:SS A\");\r\n\t\ttry {\r\n\t\t\tlet responseData = await getAirtimeDataTransaction(\r\n\t\t\t\tstartDate ? convertedStartDate : \"\",\r\n\t\t\t\tendDate ? convertedEndDate : \"\",\r\n\t\t\t\tvendorTag,\r\n\t\t\t\ttelco,\r\n\t\t\t\tstatusOption,\r\n\t\t\t\temailAddress,\r\n\t\t\t\tuserRole\r\n\t\t\t);\r\n\t\t\tsetExcelData(responseData.data);\r\n\t\t\tsetReportListLength(responseData.data.length);\r\n\t\t\tsetData(\r\n\t\t\t\tresponseData.data.slice(\r\n\t\t\t\t\t(page - 1) * resultsPerPage,\r\n\t\t\t\t\tpage * resultsPerPage\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tsetStatus(\"failure\");\r\n\t\t\tsetNotificationText(\r\n\t\t\t\t\"an error occured while retrieving transactions\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\t// GET AIRTIME DATA TRANSACTION ON PAGE LOAD\r\n\tconst usefetchDataTransactions = async () => {\r\n\t\ttry {\r\n\t\t\tlet responseData = await getAirtimeDataTransaction(\r\n\t\t\t\tstartDate,\r\n\t\t\t\tendDate,\r\n\t\t\t\tvendorTag,\r\n\t\t\t\ttelco,\r\n\t\t\t\tstatusOption,\r\n\t\t\t\temailAddress,\r\n\t\t\t\tuserRole\r\n\t\t\t);\r\n\t\t\tsetExcelData(responseData.data);\r\n\t\t\tsetReportListLength(responseData.data.length);\r\n\t\t\tsetData(\r\n\t\t\t\tresponseData.data.slice(\r\n\t\t\t\t\t(page - 1) * resultsPerPage,\r\n\t\t\t\t\tpage * resultsPerPage\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tsetStatus(\"failure\");\r\n\t\t\tsetNotificationText(\r\n\t\t\t\t\"an error occured while retrieving transactions\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\t// pagination setup\r\n\tconst resultsPerPage = 10;\r\n\r\n\t// pagination change control\r\n\tfunction onPageChange(p) {\r\n\t\tsetPage(p);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tusefetchDataTransactions();\r\n\t\tfetchVendorList();\r\n\t\tfetchTelcoList();\r\n\t}, [page]);\r\n\r\n\tconst viewInfo = () => {\r\n\t\thistory.push(\"/app/admin/reports/transaction-info\");\r\n\t};\r\n\r\n\tconst fetchVendorList = async () => {\r\n\t\ttry {\r\n\t\t\tlet newOptions = {};\r\n\t\t\tlet newVendorOptions = [...vendorType];\r\n\t\t\tlet responseData = await getAllVendors(emailAddress, userRole);\r\n\t\t\tresponseData.dataList.filter((vendor) => {\r\n\t\t\t\tnewOptions.id = vendor.id;\r\n\t\t\t\tnewOptions.name = vendor.vendorName;\r\n\t\t\t\tnewOptions.value = vendor.vendorName;\r\n\t\t\t\tnewVendorOptions.push(newOptions);\r\n\t\t\t\tnewOptions = {};\r\n\t\t\t\treturn newVendorOptions;\r\n\t\t\t});\r\n\t\t\tsetVendorOptions(newVendorOptions);\r\n\t\t} catch (error) {\r\n\t\t\tsetStatus(\"failure\");\r\n\t\t\tsetNotificationText(\r\n\t\t\t\t\"an error occured, could not retrieve vendor List\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchTelcoList = async () => {\r\n\t\ttry {\r\n\t\t\tlet newOptions = {};\r\n\t\t\tlet newTelcoOptions = [...telcoType];\r\n\t\t\tlet responseData = await getAllTelcos(emailAddress, userRole);\r\n\t\t\tresponseData.dataList.filter((telco) => {\r\n\t\t\t\tnewOptions.id = telco.id;\r\n\t\t\t\tnewOptions.name = telco.telcoName;\r\n\t\t\t\tnewOptions.value = telco.telcoName;\r\n\t\t\t\tnewTelcoOptions.push(newOptions);\r\n\t\t\t\tnewOptions = {};\r\n\t\t\t\treturn newTelcoOptions;\r\n\t\t\t});\r\n\t\t\tsetTelcoOptions(newTelcoOptions);\r\n\t\t} catch (error) {\r\n\t\t\tsetStatus(\"failure\");\r\n\t\t\tsetNotificationText(\r\n\t\t\t\t\"an error occured, could not retrieve telco list\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleApplyFilter = () => {\r\n\t\tfetchDataTransactions();\r\n\t\tsetData(data.slice((page - 1) * resultsPerPage, page * resultsPerPage));\r\n\t};\r\n\r\n\tconst handleStatusChange = (e) => {\r\n\t\tlet { value } = e.target;\r\n\t\tsetStatusOption(value);\r\n\t};\r\n\r\n\tconst viewTransactionInfo = async (acntNo, reqId) => {\r\n\t\ttry {\r\n\t\t\tlet responseData = await getAirtimeDataTransactionInfo(\r\n\t\t\t\tacntNo,\r\n\t\t\t\treqId,\r\n\t\t\t\temailAddress,\r\n\t\t\t\tuserRole\r\n\t\t\t);\r\n\t\t\tdispatch(getTransactionInfo(responseData));\r\n\t\t\thistory.push(\"/app/reports/transaction-info\");\r\n\t\t} catch (error) {\r\n\t\t\tsetStatus(\"failure\");\r\n\t\t\tsetNotificationText(\r\n\t\t\t\t\"error occured while retrieving transaction data\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"font-circular-std\">\r\n\t\t\t<Notification notificationText={notificationText} status={status} />\r\n\t\t\t<div className=\"flex justify-between w-full mb-7\">\r\n\t\t\t\t<div className=\"pt-4\">\r\n\t\t\t\t\t<h2 className=\"text-xl font-bold text-black-secondary pb-9\">\r\n\t\t\t\t\t\tTransactions\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"newfee-button\"\r\n\t\t\t\t\t\tonClick={() => exportToExcel(excelData)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tExport\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"rounded-lg pl-10 pt-6 bg-other-background\">\r\n\t\t\t\t<div className=\"flex justify-between\">\r\n\t\t\t\t\t<div className=\"flex justify-9\">\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={startDate}\r\n\t\t\t\t\t\t\tonChange={(date) => setStartDate(date)}\r\n\t\t\t\t\t\t\tclassName=\"mr-4 border border-opacity-50 border-purple-primary text-black-40 text-sm rounded outline-none focus:border-purple-primary focus:border-opacity-50 focus:ring-purple-200 block pl-4 pr-[0.625rem] md:w-[9rem] md:h-11\"\r\n\t\t\t\t\t\t\tplaceholderText=\"Start date\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tselected={endDate}\r\n\t\t\t\t\t\t\tonChange={(date) => setEndDate(date)}\r\n\t\t\t\t\t\t\tclassName=\"mr-4 border border-opacity-50 border-purple-primary text-black-40 text-sm rounded outline-none focus:border-purple-primary focus:border-opacity-50 focus:ring-purple-200 block pl-4 pr-[0.625rem] md:w-[9rem] md:h-11\"\r\n\t\t\t\t\t\t\tplaceholderText=\"End date\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormSelect\r\n\t\t\t\t\t\t\tonChange={(e) => setVendorTag(e.target.value)}\r\n\t\t\t\t\t\t\tvalue={vendorTag}\r\n\t\t\t\t\t\t\toptions={vendorOptions}\r\n\t\t\t\t\t\t\tclassName=\" mr-4 border border-opacity-50 border-purple-primary text-black-40 text-sm rounded outline-none focus:border-purple-primary focus:border-opacity-50 focus:ring-purple-200 pl-4 pr-[0.625rem] md:w-[9rem] md:h-11\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormSelect\r\n\t\t\t\t\t\t\tonChange={(e) => setTelco(e.target.value)}\r\n\t\t\t\t\t\t\tvalue={telco}\r\n\t\t\t\t\t\t\toptions={telcoOptions}\r\n\t\t\t\t\t\t\tclassName=\" mr-4 border border-opacity-50 border-purple-primary text-black-40 text-sm rounded outline-none focus:border-purple-primary focus:border-opacity-50 focus:ring-purple-200 pl-4 pr-[0.625rem] md:w-[9rem] md:h-11\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormSelect\r\n\t\t\t\t\t\t\tonChange={handleStatusChange}\r\n\t\t\t\t\t\t\toptions={statusOptions}\r\n\t\t\t\t\t\t\tclassName=\"border border-opacity-50 border-purple-primary text-black-40 text-sm rounded outline-none focus:border-purple-primary focus:border-opacity-50 focus:ring-purple-200 pl-4 pr-[0.625rem] md:w-[9rem] md:h-11\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"pr-10\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => handleApplyFilter()}\r\n\t\t\t\t\t\t\tclassName=\"p-3 pl-5 pr-5 border border-purple-secondary rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200 ease-in-out duration-150\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<p className=\"linear-gradient-text text-sm font-normal\">\r\n\t\t\t\t\t\t\t\tApply Filters\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr className=\"mt-4 mb-12\" />\r\n\r\n\t\t\t\t<div className=\"overflow-x-auto relative\">\r\n\t\t\t\t\t<table className=\"w-full text-left\">\r\n\t\t\t\t\t\t<thead className=\"w-full text-sm text-black-primary opacity-70 bg-gray-300\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tPurchase type\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tAmount(&#8358;)\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tVendor\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tTelco\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tDate\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 px-6\">\r\n\t\t\t\t\t\t\t\t\tAction\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody className=\"text-sm bg-other-background\">\r\n\t\t\t\t\t\t\t{data.map((user) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tkey={user.requestid}\r\n\t\t\t\t\t\t\t\t\tclassName=\"bg-white text-black-secondary border-b py-4 px-6\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6 font-medium whitespace-nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t{user.transType}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">{user.amount}</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">\r\n\t\t\t\t\t\t\t\t\t\t{user.vendortag}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">\r\n\t\t\t\t\t\t\t\t\t\t{user.network}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">\r\n\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\tuser.tranDate\r\n\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t<TransactionStatus\r\n\t\t\t\t\t\t\t\t\t\t\t\tstatus={user.flag}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 px-6\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tviewTransactionInfo(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.sourceAccount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.requestid\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-base font-[450] text-purple-primary opacity-70\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<div className=\"mt-8 mb-10\">\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\ttotalResults={reportListLength}\r\n\t\t\t\t\t\t\tresultsPerPage={resultsPerPage}\r\n\t\t\t\t\t\t\tlabel=\"Table navigation\"\r\n\t\t\t\t\t\t\tonChange={onPageChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Reports;\r\n","export const userOptions = [\r\n  {\r\n    id: 1,\r\n    value: \"\",\r\n    name: \"select role\",\r\n  },\r\n  {\r\n    id: 2,\r\n    value: \"admin\",\r\n    name: \"admin\",\r\n  },\r\n  {\r\n    id: 3,\r\n    value: \"superAdmin\",\r\n    name: \"superAdmin\",\r\n  },\r\n];\r\n\r\nexport const PeriodOption = [\r\n  {\r\n    id: 1,\r\n    value: \"today\",\r\n    name: \"Today\",\r\n  },\r\n  {\r\n    id: 2,\r\n    value: \"weekly\",\r\n    name: \"This week\",\r\n  },\r\n  {\r\n    id: 3,\r\n    value: \"monthly\",\r\n    name: \"This month\",\r\n  },\r\n];\r\n\r\nexport const PeriodFilterOption = [\r\n  {\r\n    id: 1,\r\n    value: \"Total\",\r\n    name: \"Total\",\r\n  },\r\n  {\r\n    id: 2,\r\n    value: \"Today\",\r\n    name: \"Today\",\r\n  },\r\n  {\r\n    id: 3,\r\n    value: \"Weekly\",\r\n    name: \"This week\",\r\n  },\r\n  {\r\n    id: 4,\r\n    value: \"Monthly\",\r\n    name: \"This month\",\r\n  },\r\n];\r\n\r\nexport const StatusOption = [\r\n  {\r\n    id: 1,\r\n    value: \"\",\r\n    name: \"Filter by\",\r\n  },\r\n  {\r\n    id: 2,\r\n    value: \"active\",\r\n    name: \"Active\",\r\n  },\r\n  {\r\n    id: 3,\r\n    value: \"inactive\",\r\n    name: \"Inactive\",\r\n  },\r\n  {\r\n    id: 4,\r\n    value: \"pending\",\r\n    name: \"Pending\",\r\n  },\r\n  {\r\n    id: 5,\r\n    value: \"archived\",\r\n    name: \"Archived\",\r\n  },\r\n];\r\n\r\nexport const statusOptions = [\r\n  {\r\n    id: 1,\r\n    value: \"\",\r\n    name: \"Select Status\",\r\n  },\r\n  {\r\n    id: 2,\r\n    value: \"Y\",\r\n    name: \"Successful\",\r\n  },\r\n  {\r\n    id: 3,\r\n    value: \"F\",\r\n    name: \"Failed\",\r\n  },\r\n];\r\n"],"names":["type","className","disabled","onClick","icon","isLoading","children","loaderText","onChange","id","label","options","value","defaultValue","map","name","statusColor","status","notificationText","NotificationIcon","ActiveStatusIcon","FailedStatusIcon","history","useHistory","dispatch","useDispatch","useSelector","userSelector","emailAddress","userRole","telcoType","vendorType","useState","page","setPage","data","setData","setNotificationText","setStatus","startDate","setStartDate","endDate","setEndDate","vendorTag","setVendorTag","telco","setTelco","reportListLength","setReportListLength","vendorOptions","setVendorOptions","telcoOptions","setTelcoOptions","statusOption","setStatusOption","excelData","setExcelData","fetchDataTransactions","convertedStartDate","moment","format","convertedEndDate","getAirtimeDataTransaction","responseData","length","slice","resultsPerPage","usefetchDataTransactions","useEffect","fetchVendorList","fetchTelcoList","newOptions","newVendorOptions","getAllVendors","dataList","filter","vendor","vendorName","push","newTelcoOptions","getAllTelcos","telcoName","viewTransactionInfo","acntNo","reqId","getAirtimeDataTransactionInfo","getTransactionInfo","list","wb","Sheets","XLSX","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToExcel","selected","date","placeholderText","e","target","statusOptions","scope","user","transType","amount","vendortag","network","Date","tranDate","toLocaleDateString","flag","sourceAccount","requestid","Pagination","totalResults","p","userOptions","PeriodOption","PeriodFilterOption","StatusOption"],"sourceRoot":""}