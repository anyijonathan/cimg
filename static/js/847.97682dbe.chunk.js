(self.webpackChunkcimg_portal=self.webpackChunkcimg_portal||[]).push([[847],{7798:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.firstLayer,n=e.firstLayerLink,r=e.secondLayer,c=e.secondLayerLink;return(0,a.jsx)("div",{children:(0,a.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsx)("a",{href:n,className:"inline-flex items-center text-[#74677B] text-sm font-medium hover:text-gray-900",children:t})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})}),(0,a.jsx)("a",{href:c,className:"ml-1 text-sm font-medium text-purple-primary",children:r})]})})]})})})}},4453:function(e,t,n){"use strict";n(5987),n(2791);var a=n(184);t.Z=function(e){var t=e.type,n=void 0===t?"submit":t,r=e.className,c=e.disabled,s=e.onClick,o=e.icon,u=e.isLoading,i=e.children;e.loaderText;return(0,a.jsxs)("button",{className:"bg-[linear-gradient(89.92deg,_#60088C_0.07%,_#A11E90_92.22%)] w-full h-12 border border-purple-secondary text-white text-sm rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200  block pt-4 pb-6 px-16 ease-in-out duration-150 \n          ".concat(c&&"opacity-60"," ")+r,type:n,onClick:s,disabled:c||!1,children:[o&&(0,a.jsx)("div",{children:o}),i,u]})}},3131:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.label,n=e.endingLabel,r=e.endingLabelLink,c=e.placeholder,s=e.className,o=void 0===s?"":s,u=e.value,i=e.id,l=e.onChange,d=e.onBlur,m=e.type,f=e.name,p=e.autoComplete,x=e.inputMode,h=e.maxLength,v=e.required,b=e.readOnly;e.children;return(0,a.jsxs)("div",{className:o,children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[t&&(0,a.jsxs)("label",{htmlFor:i,className:"mb-3 text-sm font-medium font-circular-std text-black-secondary",children:[" ",t]}),n&&(0,a.jsxs)("a",{href:r,className:"mb-3 text-sm text-right font-medium font-circular-std text-purple-secondary opacity-70",children:[" ",n]})]}),(0,a.jsx)("input",{id:i,className:"w-full md:w-[27.25rem] h-12 border border-purple-secondary text-black-40 text-sm rounded outline-none focus:border-purple-secondary focus:ring-purple-200  block py-4 pl-4 pr-[0.625rem]"+o,placeholder:c||"",value:u,onChange:l,onBlur:d,name:f,type:m,autoComplete:p||"",inputMode:x,maxLength:h,required:v,readOnly:b})]})}},700:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.onChange,n=e.id,r=e.label,c=e.type,s=e.options,o=e.value,u=e.defaultValue,i=e.className;return(0,a.jsxs)("div",{className:"font-circular-std",children:[r&&(0,a.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:r}),(0,a.jsx)("select",{id:n,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+i,type:c,onChange:t,value:o,defaultValue:u,children:s&&s.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})}},9364:function(e,t,n){"use strict";n(2791);var a=n(6675),r=n(184);t.Z=function(e){e.statusColor;var t=e.status,n=e.notificationText,c=e.className;return(0,r.jsxs)("div",{className:"mb-4 md:mb-0 md:absolute md:left-[77%] md:top-[10%] "+c,children:["success"===t&&(0,r.jsxs)("div",{className:"w-[60%] h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-green-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]}),"failure"===t&&(0,r.jsxs)("div",{className:"w-full px-4 py-2 h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-red-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]})]})}},2847:function(e,t,n){"use strict";n.r(t);var a=n(4165),r=n(5861),c=n(4942),s=n(1413),o=n(885),u=n(2791),i=n(9434),l=n(7798),d=n(4453),m=n(3131),f=n(700),p=n(9364),x=n(2549),h=n(7423),v=n(4848),b=n(8763),g=n(7777),N=n(184);t.default=function(){var e=(0,i.v9)(x.np),t=e.emailAddress,n=e.userRole,y=(0,i.v9)(h.Ej).feeSetupId,Z=[{id:0,value:"",name:"Select Telco"}],j=[{id:0,value:"",name:"Select Vendor"}],w=(0,u.useState)([]),S=(0,o.Z)(w,2),A=(S[0],S[1],(0,u.useState)(null)),k=(0,o.Z)(A,2),L=(k[0],k[1],(0,u.useState)({chargeTypeValue:"",value:"",vendorShare:"",bankShare:"",telcoShare:"",dataSuspenseAccount:"",airtimeSuspenseAccount:"",bankAccount:"",vendorAccount:"",vendorOptions:j,telcoOptions:Z,chargeOptions:[{id:0,value:"",name:"Select Charge Type"},{id:1,value:"PERCENTAGE",name:"PERCENTAGE"}],vendorName:"",vendorId:"",telcoName:"",telcoId:""})),C=(0,o.Z)(L,2),T=C[0],I=C[1],E=(0,u.useState)({notificationText:"",status:"",isLoading:!1,disabled:!1}),O=(0,o.Z)(E,2),R=O[0],V=O[1],B=function(e){var t=e.target.value;I((0,s.Z)((0,s.Z)({},T),{},(0,c.Z)({},e.target.name,t)))},_=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},c=[].concat(j),e.prev=2,e.next=5,(0,b.G)(t,n);case 5:e.sent.dataList.filter((function(e){return r.id=e.id,r.name=e.vendorName,r.value=e.vendorName,c.push(r),r={},c})),I((function(e){return(0,s.Z)((0,s.Z)({},e),{},{vendorOptions:c})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),V((function(t){return(0,s.Z)((0,s.Z)({},t),{},{status:"failure",notificationText:e.t0.description})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n=[].concat(Z),e.prev=2,e.next=5,(0,v.Bu)();case 5:e.sent.dataList.filter((function(e){return t.id=e.id,t.name=e.telcoName,t.value=e.telcoName,n.push(t),t={},n})),I((function(e){return(0,s.Z)((0,s.Z)({},e),{},{telcoOptions:n})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),V((function(t){return(0,s.Z)((0,s.Z)({},t),{},{status:"failure",notificationText:e.t0.description})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c,o,u,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.A3)(y,t,n);case 3:"00"===(r=e.sent).data.code?(c=r.data.data,o=(0,g.H$)(c.telcoSuspenseDataAccount,"c1mgu22d12345tst"),u=(0,g.H$)(c.telcoSuspenseAirtimeAccount,"c1mgu22d12345tst"),i=(0,g.H$)(c.fcmbIncomeAccount,"c1mgu22d12345tst"),l=(0,g.H$)(c.vendorIncomeAccount,"c1mgu22d12345tst"),I((function(e){return(0,s.Z)((0,s.Z)({},e),{},{chargeTypeValue:c.chargeType,value:c.value,vendorShare:c.vendorRate,bankShare:c.fcmbRate,telcoShare:c.telcoRate,dataSuspenseAccount:o,airtimeSuspenseAccount:u,bankAccount:i,vendorAccount:l,vendorName:c.vendorName,vendorId:c.vendorId,telcoName:c.telcoName,telcoId:c.telcoId})}))):V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"error"})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),V((function(t){return(0,s.Z)((0,s.Z)({},t),{},{status:"failure",notificationText:e.t0.description})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){D(),_()}),[]);var J=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c,o,u,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,g.pJ)(T.airtimeSuspenseAccount,"c1mgu22d12345tst"),c=(0,g.pJ)(T.dataSuspenseAccount,"c1mgu22d12345tst"),o=(0,g.pJ)(T.bankAccount,"c1mgu22d12345tst"),u=(0,g.pJ)(T.vendorAccount,"c1mgu22d12345tst"),""!==(i={id:y,telcoId:T.telcoId,vendorId:T.vendorId,telcoName:T.telcoName,vendorName:T.vendorName,value:T.value,fcmbRate:T.bankShare,telcoRate:T.telcoShare,vendorRate:T.vendorShare,telcoSuspenseAirtimeAccount:r,telcoSuspenseDataAccount:c,fcmbIncomeAccount:o,vendorIncomeAccount:u,chargeType:T.chargeTypeValue}).telcoName&&""!==i.vendorName&&""!==i.value&&""!==i.fcmbRate&&""!==i.telcoRate&&""!==i.vendorRate&&""!==i.telcoSuspenseAirtimeAccount&&""!==i.telcoSuspenseDataAccount&&""!==i.vendorIncomeAccount&&""!==i.fcmbIncomeAccount){e.next=9;break}V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"all fields are required"})})),e.next=20;break;case 9:return e.prev=9,V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isLoading:!0,disabled:!0})})),e.next=13,(0,h.Gu)(i,t,n);case 13:"00"===(l=e.sent).code?(V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"success",notificationText:"Fee setup modified and sent to admin for approval"})})),setTimeout((function(){V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"",notificationText:"",isLoading:!1,disabled:!1})}))}),2e3)):(V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:l.description,isLoading:!1,disabled:!1})})),setTimeout((function(){V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"",notificationText:""})}))}),2e3)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),V((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isLoading:!1,disabled:!1,status:"failure",notificationText:"an error occured, please try again"})}));case 20:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){H()}),[]),(0,N.jsxs)("div",{className:"font-circular-std",children:[(0,N.jsx)(p.Z,{notificationText:R.notificationText,status:R.status}),(0,N.jsx)(l.Z,{firstLayer:"Fee Setup",secondLayer:"Edit Setup",firstLayerLink:"/app/fee-setup"}),(0,N.jsxs)("div",{className:"mt-11 rounded-lg pt-6 h-full  bg-other-background",children:[(0,N.jsx)("h3",{className:"pb-4 pl-10 text-black-secondary text-lg font-medium",children:"Complete the form below"}),(0,N.jsx)("hr",{className:"w-full"}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("div",{className:"p-10 flex justify-between",children:[(0,N.jsx)(m.Z,{label:"Vendor Name",className:"w-full md:w-[20rem] h-12",type:"text",name:"vendorName",value:T.vendorName||"",readOnly:!0}),(0,N.jsx)(m.Z,{label:"Telco Name",className:"w-full md:w-[20rem] h-12",type:"text",name:"telcoName",value:T.telcoName||"",readOnly:!0})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(f.Z,{label:"Charge type",className:"w-full md:w-[20rem] h-12",options:T.chargeOptions,onChange:function(e){var t=e.target.value;I((0,s.Z)((0,s.Z)({},T),{},{chargeTypeValue:t}))},value:T.chargeTypeValue}),(0,N.jsx)(m.Z,{label:"Value",className:"w-full md:w-[20rem] h-12",type:"number",name:"value",onChange:B,value:T.value||""}),(0,N.jsx)(m.Z,{label:"Vendor share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"vendorShare",onChange:B,value:T.vendorShare||""})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Bank share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"bankShare",onChange:B,value:T.bankShare||""}),(0,N.jsx)(m.Z,{label:"Telco share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"telcoShare",onChange:B,value:T.telcoShare||""}),(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Data)",className:"w-full md:w-[20rem] h-12",type:"text",name:"dataSuspenseAccount",onChange:B,value:T.dataSuspenseAccount||"",maxLength:16})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Airtime)",className:"w-full md:w-[20rem] h-12",type:"text",name:"airtimeSuspenseAccount",onChange:B,value:T.airtimeSuspenseAccount||"",maxLength:16}),(0,N.jsx)(m.Z,{label:"Bank Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"bankAccount",onChange:B,value:T.bankAccount||"",maxLength:16}),(0,N.jsx)(m.Z,{label:"Vendor Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"vendorAccount",onChange:B,value:T.vendorAccount||"",maxLength:16})]}),(0,N.jsx)("div",{className:"ml-10 mt-9",children:(0,N.jsx)(d.Z,{onClick:J,className:"newfee-button",isLoading:R.isLoading,disabled:R.disabled,children:"Update"})})]})]})]})}},7777:function(e,t,n){"use strict";n.d(t,{H$:function(){return l},O_:function(){return u},Yi:function(){return c},pJ:function(){return i}});var a=n(9704),r=n.n(a),c=(n(2964),function(){return(Date.now().toString(36).substr(2,9)+Math.random().toString(36).substr(2,10)).toUpperCase()});function s(e,t){return Object.values(e).some((function(e){return Array.isArray(e)?e.some((function(e){return s(e,t)})):String(e).toLocaleLowerCase().includes(t)}))}function o(e,t){var n=t.toLocaleLowerCase();return e.filter((function(e){return s(e,n)}))}var u=function(e,t){return""!==t&&e?o(e,t):e};function i(e,t){var n=r().enc.Utf8.parse(t);return r().AES.encrypt(e,n,{mode:r().mode.ECB}).toString()}function l(e,t){var n=r().enc.Utf8.parse(t);return r().AES.decrypt(e,n,{mode:r().mode.ECB}).toString(r().enc.Utf8)}},2964:function(){}}]);
//# sourceMappingURL=847.97682dbe.chunk.js.map