(self.webpackChunkcimg_portal=self.webpackChunkcimg_portal||[]).push([[883],{7798:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.firstLayer,n=e.firstLayerLink,r=e.secondLayer,c=e.secondLayerLink;return(0,a.jsx)("div",{children:(0,a.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsx)("a",{href:n,className:"inline-flex items-center text-[#74677B] text-sm font-medium hover:text-gray-900",children:t})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})}),(0,a.jsx)("a",{href:c,className:"ml-1 text-sm font-medium text-purple-primary",children:r})]})})]})})})}},4453:function(e,t,n){"use strict";n(5987),n(2791);var a=n(184);t.Z=function(e){var t=e.type,n=void 0===t?"submit":t,r=e.className,c=e.disabled,s=e.onClick,o=e.icon,u=e.isLoading,l=e.children;e.loaderText;return(0,a.jsxs)("button",{className:"bg-[linear-gradient(89.92deg,_#60088C_0.07%,_#A11E90_92.22%)] w-full h-12 border border-purple-secondary text-white text-sm rounded font-circular-std outline-none focus:border-purple-secondary focus:ring-purple-200  block pt-4 pb-6 px-16 ease-in-out duration-150 \n          ".concat(c&&"opacity-60"," ")+r,type:n,onClick:s,disabled:c||!1,children:[o&&(0,a.jsx)("div",{children:o}),l,u]})}},3131:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.label,n=e.endingLabel,r=e.endingLabelLink,c=e.placeholder,s=e.className,o=void 0===s?"":s,u=e.value,l=e.id,i=e.onChange,d=e.onBlur,m=e.type,f=e.name,p=e.autoComplete,h=e.inputMode,v=e.maxLength,x=e.required,b=e.readOnly;e.children;return(0,a.jsxs)("div",{className:o,children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[t&&(0,a.jsxs)("label",{htmlFor:l,className:"mb-3 text-sm font-medium font-circular-std text-black-secondary",children:[" ",t]}),n&&(0,a.jsxs)("a",{href:r,className:"mb-3 text-sm text-right font-medium font-circular-std text-purple-secondary opacity-70",children:[" ",n]})]}),(0,a.jsx)("input",{id:l,className:"w-full md:w-[27.25rem] h-12 border border-purple-secondary text-black-40 text-sm rounded outline-none focus:border-purple-secondary focus:ring-purple-200  block py-4 pl-4 pr-[0.625rem]"+o,placeholder:c||"",value:u,onChange:i,onBlur:d,name:f,type:m,autoComplete:p||"",inputMode:h,maxLength:v,required:x,readOnly:b})]})}},700:function(e,t,n){"use strict";n(2791);var a=n(184);t.Z=function(e){var t=e.onChange,n=e.id,r=e.label,c=e.type,s=e.options,o=e.value,u=e.defaultValue,l=e.className;return(0,a.jsxs)("div",{className:"font-circular-std",children:[r&&(0,a.jsx)("label",{className:"block mb-4 text-sm font-medium text-black-secondary",children:r}),(0,a.jsx)("select",{id:n,className:"border border-opacity-50 border-black-40 text-black-40 text-sm rounded outline-none focus:border-black-40 focus:border-opacity-50 focus:ring-gray-200 block pl-4 pr-[0.625rem]"+l,type:c,onChange:t,value:o,defaultValue:u,children:s&&s.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.name},e.id)}))})]})}},9364:function(e,t,n){"use strict";n(2791);var a=n(6675),r=n(184);t.Z=function(e){e.statusColor;var t=e.status,n=e.notificationText,c=e.className;return(0,r.jsxs)("div",{className:"mb-4 md:mb-0 md:absolute md:left-[77%] md:top-[10%] "+c,children:["success"===t&&(0,r.jsxs)("div",{className:"w-[60%] h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-green-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]}),"failure"===t&&(0,r.jsxs)("div",{className:"w-full px-4 py-2 h-10 md:h-12 md:w-[21.8125rem] justify-center flex bg-red-primary items-center",children:[(0,r.jsx)(a.NotificationIcon,{}),(0,r.jsx)("p",{className:"font-medium text-base md:text-xs text-white pl-6",children:n})]})]})}},5883:function(e,t,n){"use strict";n.r(t);var a=n(4165),r=n(5861),c=n(4942),s=n(1413),o=n(885),u=n(2791),l=n(9434),i=n(7798),d=n(4453),m=n(3131),f=n(700),p=n(9364),h=n(2549),v=n(7423),x=n(4848),b=n(8763),g=n(7777),N=n(184);t.default=function(){var e=(0,l.v9)(h.np),t=e.emailAddress,n=e.userRole,y=(0,l.v9)(v.Ej).feeSetupId,Z=[{id:1,value:"",name:"Select vendor"}],j=[{id:1,value:"",name:"Select telco"}],w=[{id:0,value:"",name:"Select Charge Type"},{id:1,value:"PERCENTAGE",name:"PERCENTAGE"}],S=(0,u.useState)([]),A=(0,o.Z)(S,2),k=(A[0],A[1],(0,u.useState)(null)),L=(0,o.Z)(k,2),C=(L[0],L[1],(0,u.useState)({chargeTypeValue:"",value:"",vendorShare:"",bankShare:"",telcoShare:"",dataSuspenseAccount:"",airtimeSuspenseAccount:"",bankAccount:"",vendorAccount:"",vendorOptions:Z,telcoOptions:j,chargeOptions:w,vendorName:"",vendorId:"",telcoName:"",telcoId:""})),T=(0,o.Z)(C,2),I=T[0],E=T[1],O=(0,u.useState)({notificationText:"",status:"",isLoading:!1,disabled:!1}),R=(0,o.Z)(O,2),V=R[0],B=R[1],_=function(e){var t=e.target.value;E((0,s.Z)((0,s.Z)({},I),{},(0,c.Z)({},e.target.name,t)))},D=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},c=[].concat(Z),e.prev=2,e.next=5,(0,b.G)(t,n);case 5:e.sent.dataList.filter((function(e){return r.id=e.id,r.name=e.vendorName,r.value=e.vendorName,c.push(r),r={},c})),E((function(e){return(0,s.Z)((0,s.Z)({},e),{},{vendorOptions:c})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"an error occured, could not fetch vendors"})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n=[].concat(j),e.prev=2,e.next=5,(0,x.Bu)();case 5:e.sent.dataList.filter((function(e){return t.id=e.id,t.name=e.telcoName,t.value=e.telcoName,n.push(t),t={},n})),E((function(e){return(0,s.Z)((0,s.Z)({},e),{},{telcoOptions:n})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"an error occured, could not fetch telcos"})}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c,o,u,l,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.A3)(y,t,n);case 3:"00"===(r=e.sent).data.code?(c=r.data.data,o=(0,g.H$)(c.telcoSuspenseDataAccount,"c1mgu22d12345tst"),u=(0,g.H$)(c.telcoSuspenseAirtimeAccount,"c1mgu22d12345tst"),l=(0,g.H$)(c.fcmbIncomeAccount,"c1mgu22d12345tst"),i=(0,g.H$)(c.vendorIncomeAccount,"c1mgu22d12345tst"),E((function(e){return(0,s.Z)((0,s.Z)({},e),{},{chargeTypeValue:c.chargeType,value:c.value,vendorShare:c.vendorRate,bankShare:c.fcmbRate,telcoShare:c.telcoRate,dataSuspenseAccount:o,airtimeSuspenseAccount:u,bankAccount:l,vendorAccount:i,vendorName:c.vendorName,vendorId:c.vendorId,telcoName:c.telcoName,telcoId:c.telcoId})}))):B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"an error occured"})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"an error occured, could no retrieve fee setup"})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){H(),D()}),[]);var $=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(r={id:y,telcoId:I.telcoId,vendorId:I.vendorId,telcoName:I.telcoName,vendorName:I.vendorName,value:I.value,fcmbRate:I.bankShare,telcoRate:I.telcoShare,vendorRate:I.vendorShare,telcoSuspenseAirtimeAccount:I.airtimeSuspenseAccount,telcoSuspenseDataAccount:I.dataSuspenseAccount,fcmbIncomeAccount:I.bankAccount,vendorIncomeAccount:I.vendorAccount,chargeType:I.chargeTypeValue}).telcoName&&""!==r.vendorName&&0!==r.value&&0!==r.fcmbRate&&0!==r.telcoRate&&0!==r.vendorRate&&""!==r.telcoSuspenseAirtimeAccount&&""!==r.telcoSuspenseDataAccount&&""!==r.vendorIncomeAccount&&""!==r.fcmbIncomeAccount){e.next=5;break}B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:"all fields are required"})})),e.next=16;break;case 5:return e.prev=5,B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isLoading:!0,disabled:!0})})),e.next=9,(0,v.Gu)(r,t,n);case 9:"00"===(c=e.sent).code?(B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"success",notificationText:c.description})})),setTimeout((function(){B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"",notificationText:"",isLoading:!1,disabled:!1})}))}),2e3)):(B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"failure",notificationText:c.description,isLoading:!1,disabled:!1})})),setTimeout((function(){B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:"",notificationText:""})})),E((function(e){return(0,s.Z)((0,s.Z)({},e),{},{chargeTypeValue:"",value:"",vendorShare:0,bankShare:0,telcoShare:0,dataSuspenseAccount:"",airtimeSuspenseAccount:"",bankAccount:"",vendorAccount:"",vendorOptions:Z,telcoOptions:j,chargeOptions:w,vendorName:"",vendorId:0,telcoName:"",telcoId:0})}))}),2e3)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),B((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isLoading:!1,disabled:!1,status:"failure",notificationText:"an error occured, please try again"})}));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){U()}),[]),(0,N.jsxs)("div",{className:"font-circular-std",children:[(0,N.jsx)(p.Z,{notificationText:V.notificationText,status:V.status}),(0,N.jsx)(i.Z,{firstLayer:"Fee Setup",secondLayer:"Edit Setup",firstLayerLink:"/app/admin/fee-setup"}),(0,N.jsxs)("div",{className:"mt-11 rounded-lg pt-6 h-full  bg-other-background",children:[(0,N.jsx)("h3",{className:"pb-4 pl-10 text-black-secondary text-lg font-medium",children:"Complete the form below"}),(0,N.jsx)("hr",{className:"w-full"}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("div",{className:"p-10 flex justify-between",children:[(0,N.jsx)(m.Z,{label:"Vendor Name",className:"w-full md:w-[20rem] h-12",type:"text",name:"vendorName",value:I.vendorName||"",readOnly:!0}),(0,N.jsx)(m.Z,{label:"Telco Name",className:"w-full md:w-[20rem] h-12",type:"text",name:"telcoName",value:I.telcoName||"",readOnly:!0})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(f.Z,{label:"Charge type",className:"w-full md:w-[20rem] h-12",options:I.chargeOptions,onChange:function(e){var t=e.target.value;E((0,s.Z)((0,s.Z)({},I),{},{chargeTypeValue:t}))},value:I.chargeTypeValue}),(0,N.jsx)(m.Z,{label:"Value",className:"w-full md:w-[20rem] h-12",type:"number",name:"value",onChange:_,value:I.value||""}),(0,N.jsx)(m.Z,{label:"Vendor share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"vendorShare",onChange:_,value:I.vendorShare||""})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Bank share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"bankShare",onChange:_,value:I.bankShare||""}),(0,N.jsx)(m.Z,{label:"Telco share (%)",className:"w-full md:w-[20rem] h-12",type:"number",name:"telcoShare",onChange:_,value:I.telcoShare||""}),(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Data)",className:"w-full md:w-[20rem] h-12",type:"text",name:"dataSuspenseAccount",onChange:_,value:I.dataSuspenseAccount||"",maxLength:16})]}),(0,N.jsxs)("div",{className:"p-10 flex justify-around",children:[(0,N.jsx)(m.Z,{label:"Telco Suspense Account (Airtime)",className:"w-full md:w-[20rem] h-12",type:"text",name:"airtimeSuspenseAccount",onChange:_,value:I.airtimeSuspenseAccount||"",maxLength:16}),(0,N.jsx)(m.Z,{label:"Bank Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"bankAccount",onChange:_,value:I.bankAccount||"",maxLength:16}),(0,N.jsx)(m.Z,{label:"Vendor Income Account",className:"w-full md:w-[20rem] h-12",type:"text",name:"vendorAccount",onChange:_,value:I.vendorAccount||"",maxLength:16})]}),(0,N.jsx)("div",{className:"ml-10 mt-9",children:(0,N.jsx)(d.Z,{onClick:$,className:"newfee-button",isLoading:V.isLoading,disabled:V.disabled,children:"Update"})})]})]})]})}},7777:function(e,t,n){"use strict";n.d(t,{H$:function(){return i},O_:function(){return u},Yi:function(){return c},pJ:function(){return l}});var a=n(9704),r=n.n(a),c=(n(2964),function(){return(Date.now().toString(36).substr(2,9)+Math.random().toString(36).substr(2,10)).toUpperCase()});function s(e,t){return Object.values(e).some((function(e){return Array.isArray(e)?e.some((function(e){return s(e,t)})):String(e).toLocaleLowerCase().includes(t)}))}function o(e,t){var n=t.toLocaleLowerCase();return e.filter((function(e){return s(e,n)}))}var u=function(e,t){return""!==t&&e?o(e,t):e};function l(e,t){var n=r().enc.Utf8.parse(t);return r().AES.encrypt(e,n,{mode:r().mode.ECB}).toString()}function i(e,t){var n=r().enc.Utf8.parse(t);return r().AES.decrypt(e,n,{mode:r().mode.ECB}).toString(r().enc.Utf8)}},2964:function(){}}]);
//# sourceMappingURL=883.2bb043bb.chunk.js.map